!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);s}({1:[function(require,module,exports){!function(root){function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;if(0===self._state)return void self._deferreds.push(deferred);self._handled=!0,Promise._immediateFn(function(){var cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null===cb)return void(1===self._state?resolve:reject)(deferred.promise,self._value);var ret;try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve(bind(then,newValue),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn(function(){self._handled||Promise._unhandledRejectionFn(self._value)});for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn(function(value){done||(done=!0,resolve(self,value))},function(reason){done||(done=!0,reject(self,reason))})}catch(ex){if(done)return;done=!0,reject(self,ex)}}var setTimeoutFunc=setTimeout;Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}if(0===args.length)return resolve([]);for(var remaining=args.length,i=0;i<args.length;i++)res(i,args[i])})},Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++)values[i].then(resolve,reject)})},Promise._immediateFn="function"==typeof setImmediate&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)},Promise._setImmediateFn=function(fn){Promise._immediateFn=fn},Promise._setUnhandledRejectionFn=function(fn){Promise._unhandledRejectionFn=fn},void 0!==module&&module.exports?module.exports=Promise:root.Promise||(root.Promise=Promise)}(this)},{}],2:[function(require,module,exports){function componentLoader(components){Array.from(document.querySelectorAll("[data-component]:not([data-initialised])")).forEach(function(element){element.getAttribute("data-component").split(",").forEach(function(componentName){const component=components[componentName];component&&component.init(element)})})}require("./component");module.exports=componentLoader},{"./component":3}],3:[function(require,module,exports){function createComponent(config){function init(el){config.init&&config.init(el),el.setAttribute("data-initialised",!0)}return config=config||{},{init:init}}module.exports={createComponent:createComponent}},{}],4:[function(require,module,exports){function onSuccess(xhr){let data=JSON.parse(xhr.responseText),list=data.items,teaser="";responseBody.innerHTML="",list.forEach(function(obj){teaser+=teaserBook(obj)}),responseBody.innerHTML=teaser}function shorten(str,max){return str.length<=max?str:str.substr(0,str.lastIndexOf(" ",max))}function teaserBook(obj){return`
    <div class="panel">
      <div class="panel-heading">
        <h4 class="panel-title">${obj.volumeInfo.title}</h4>
      </div>
      <div class="panel-body">
        <figure><img src=${obj.volumeInfo.imageLinks.thumbnail} alt=${obj.volumeInfo.title}></figure>
        <p class="description">${shorten(obj.volumeInfo.description,200)}...</p>
        <p class="info">
          <span>Author: ${obj.volumeInfo.authors[0]}</span>
          <span>Publisher: ${obj.volumeInfo.publisher}</span>
          <span>Published: ${obj.volumeInfo.publishedDate}</span>
        </p>
      </div>
    </div>
    `}function onError(){responseBody.innerHTML="Sorry. We did not find any results for your search"}function bindEvents(){form.addEventListener("keydown",function(e){13===e.keyCode&&e.preventDefault()}),input.addEventListener("keydown",function(e){let query=e.target.value;if(query){const URL="https://www.googleapis.com/books/v1/volumes?q="+query+"&maxResults=20&orderBy=newest";13===e.keyCode&&ajaxPromise(URL).then(onSuccess).catch(onError)}})}function init(el){form=el.querySelector("form"),input=form.querySelector("input"),responseBody=el.querySelector(".response-body"),bindEvents()}const component=require("./../component"),ajaxPromise=require("./../utilities/ajax-promise");let form,input,responseBody;module.exports=component.createComponent({init:init})},{"./../component":3,"./../utilities/ajax-promise":7}],5:[function(require,module,exports){Array.from||(Array.from=function(object){"use strict";return[].slice.call(object)})},{}],6:[function(require,module,exports){var Promise=require("promise-polyfill");window.Promise||(window.Promise=Promise)},{"promise-polyfill":1}],7:[function(require,module,exports){function ajaxPromise(url,options){return new Promise(function(resolve,reject){if(!url)return void reject("No url provided");options=options||{};try{let xhr=new XMLHttpRequest;xhr.open(options.method||"get",url,!options.sync),options.headers&&Object.keys(options.headers).forEach(function(key){xhr.setRequestHeader(key,options.headers[key])}),xhr.send(options.data||null),xhr.onload=function(){4===xhr.readyState&&200===xhr.status?resolve(xhr):reject(xhr)}}catch(err){reject(err)}})}module.exports=ajaxPromise},{}],8:[function(require,module,exports){require("./js/polyfills/array-from"),require("./js/polyfills/promise"),require("./js/component-loader")({restClient:require("./js/components/rest-client")})},{"./js/component-loader":2,"./js/components/rest-client":4,"./js/polyfills/array-from":5,"./js/polyfills/promise":6}]},{},[8]);